<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Inscription Utilisateur</title>
    <link rel="stylesheet" href="../Visiteurs/inscription.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <form id="myForm">
        <h1>Inscription Medecin</h1>
        <hr/>
        <div class="corps">
            <span class="close"><ion-icon name="close"></ion-icon></span>
            <div class="groupe">
                <label for="prenom"> Prénom</label>
                <input type="text" id="prenom"/>
                <span class="icon"><ion-icon name="person"></ion-icon></span>
                <label for="nom"> Nom</label>
                <input type="text" id="nom" required/>
                <span class="icon"><ion-icon name="person"></ion-icon></span>
            </div>

            <div class="groupe">
                <label for="email"> Adresse e-mail</label>
                <input type="email" id="email" autocomplete="@gmail.com" placeholder="mrr@gmail.com"/>
                <span class="icon"><ion-icon name="mail"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="numero"> Numero de téléphone</label>
                <input type="tel" name="tel">
                <span class="icon"><ion-icon name="call"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="text"> Specialite</label>
                <input type="text" name="specialite"required placeholder="specialite">
                <span class="icon"><ion-icon name="call"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="text"> Structure</label>
                <input type="text" name="structure"required placeholder="structure">
                <span class="icon"><ion-icon name="call"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="text"> Horaire</label>
                <input type="text" name="horaire">
                <span class="icon"><ion-icon name="call"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="mdp">Mot de Passe</label>
                <input type="password" id="pwd1" name="pwd1" required>
                <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
            </div>
            <div class="groupe">
                <label for="mdp">Confirmez le Mot de Passe</label>
                <input type="password" id="pwd2" name="pwd2" required>
                <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
            </div>
        </div>
        <div class="pied" align="center">
            <input type="button" name="inscription" id="inscription" value="S'inscrire">
        </div>
        
        <div class="pied"><p>Vous avez déjà un compte ? <a href="connexion.html">Se connecter</a></p></div>
    </form>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script type="text/javascript">
        var formulaire = document.getElementById("myForm");
        formulaire.addEventListener("submit" , function(event){
            var pwd1 = document.getElementById("pwd1").value;
            var pwd2 = document.getElementById("pwd2").value;
            if(pwd1!=pwd2)
            {
                event.preventDefault();
                alert("les mots de passes ne concordent pas.") ;
            }
            else {
                alert("Formulaire soumis avec succés");
            }
  
        });
        document.addEventListener("DOMContentLoaded", function () {
      var utilisateurs = JSON.parse(localStorage.getItem("utilisateurs")) || [];
  
      // Trouvez le bouton "S'inscrire"
      var boutonInscription = document.getElementById("inscription");
      
      boutonInscription.addEventListener("click", function () {
          var nom = document.querySelector('input[name="nom"]').value;
          var prenom = document.querySelector('input[name="prenom"]').value;
          var date = document.querySelector('input[name="date"]').value;
          var tel = document.querySelector('input[name="tel"]').value;
          var specialite = document.querySelector('input[name="specialite"]').value;
          var structure = document.querySelector('input[name="structure"]').value;
          var horaire = document.querySelector('input[name="horaire"]').value;
          var email = document.querySelector('input[name="email"]').value;
          var pwd1 = document.querySelector('input[name="pwd1"]').value;
  
          // Créez un objet pour stocker les données du médecin
          var medecin = {
              nom: nom,
              prenom: prenom,
              date: date,
              tel: tel,
              specialite: specialite,
              structure: structure,
              horaire: horaire,
              email: email,
              pwd1: pwd1,
              type: "medecin"
          };
  
          // Ajoutez le nouveau médecin à la liste des utilisateurs
          utilisateurs.push(medecin);
  
          // Enregistrez la liste mise à jour dans le stockage local
          localStorage.setItem('utilisateurs', JSON.stringify(utilisateurs));
  
          alert("Inscription du médecin effectuée.");
  
          // Effacez les champs du formulaire
          document.querySelector('input[name="nom"]').value = "";
          document.querySelector('input[name="prenom"]').value = "";
          document.querySelector('input[name="date"]').value = "";
          document.querySelector('input[name="tel"]').value = "";
          document.querySelector('input[name="specialite"]').value = "";
          document.querySelector('input[name="structure"]').value = "";
          document.querySelector('input[name="horaire"]').value = "";
          document.querySelector('input[name="email"]').value = "";
          document.querySelector('input[name="pwd1"]').value = "";
          document.querySelector('input[name="pwd2"]').value = "";
      });
  });
  
    </script>
</body>
</html>
